{"version":3,"file":"static/js/3151.6bc68be8.chunk.js","mappings":"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","sources":["store/services/credit.js","store/actions/credits.js","store/selector/credits.js","views/credit/BuyCredits.js"],"sourcesContent":["import { apiUrl } from 'src/configs/config'\nimport request from 'src/configs/request'\nimport { store } from '../store'\nconst setHeader = () => {\n  const { token } = store.getState().user\n  return {\n    headers: {\n      Authorization: `Bearer ${token}`,\n    },\n  }\n}\n\nexport const addStripe = (obj) => {\n  return request.post(apiUrl + 'users/createPaymentInfo', obj, setHeader())\n}\n\nexport const addCredits = (obj) => {\n  return request.post(apiUrl + 'users/purchaseCredits', obj, setHeader())\n}\n\nexport const getCredits = (id) => {\n  return request.get(apiUrl + `users/credits/${id}`, setHeader())\n}\n","import { addStripe, addCredits, getCredits } from 'src/store/services/credit'\nimport { toastify } from '../services/toastify'\n\nexport const addStripeAction = (obj, callback) => async (dispatch) => {\n  try {\n    const res = await addStripe(obj)\n    if (res.status === 201) {\n      toastify('success', res?.data?.data.message)\n      callback()\n    }\n  } catch (err) {\n    toastify('error', err?.response?.data?.err.message)\n  }\n}\n\nexport const buyCreditsAction = (obj, callback) => async (dispatch) => {\n  try {\n    const res = await addCredits(obj)\n    if (res.status === 201) {\n      toastify('success', res?.data?.data.message)\n      callback()\n    }\n  } catch (err) {\n    toastify('error', err?.response?.data?.err.message)\n  }\n}\n\nexport const getUserCreditsAction = (id) => async (dispatch) => {\n  try {\n    const res = await getCredits(id)\n    if (res.status === 200) {\n      dispatch({\n        type: 'UserCredits',\n        payload: {\n          credits: res.data.data.credits,\n        },\n      })\n      // toastify('success', res?.data?.data.message)\n    }\n  } catch (err) {\n    toastify('error', err?.response?.data?.err.message)\n  }\n}\n","export const userCredits = (state) => state?.credits.credits\n","import React, { useEffect, useState } from 'react'\nimport {\n  CButton,\n  CCard,\n  CCardBody,\n  CCardHeader,\n  CCol,\n  CForm,\n  CFormInput,\n  CFormLabel,\n  CFormTextarea,\n  CRow,\n  CFormSelect,\n  CInputGroup,\n  CContainer,\n} from '@coreui/react'\nimport 'react-datepicker/dist/react-datepicker.css'\nimport { ToastContainer } from 'react-toastify'\nimport { toastify } from 'src/store/services/toastify'\nimport { buyCreditsAction, getUserCreditsAction } from 'src/store/actions/credits'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { user } from 'src/store/selector/user'\nimport { userCredits } from 'src/store/selector/credits'\n\nimport 'react-toastify/dist/ReactToastify.css'\nconst BuyCredits = () => {\n  const dispatch = useDispatch()\n  const [credits, setCredits] = useState(0)\n  const userDetail = useSelector(user)\n  const Credits = useSelector(userCredits)\n\n  useEffect(() => {\n    dispatch(getUserCreditsAction(userDetail._id))\n  }, [getUserCreditsAction])\n\n  const submitHandler = (e) => {\n    e.preventDefault()\n    dispatch(buyCreditsAction({ credits, userId: userDetail._id }, callback))\n  }\n\n  const callback = () => {\n    setCredits('')\n    dispatch(getUserCreditsAction(userDetail._id))\n  }\n  return (\n    <>\n      <CContainer className=\"\">\n        <CRow>\n          <CCol xs={12}>\n            <CCard className=\"mb-4\">\n              <CCardHeader className=\"\">\n                <strong>Order Detail</strong>\n              </CCardHeader>\n              <CCardBody>\n                <CContainer>\n                  <CRow className=\"order-detail-tag\">\n                    <div className=\"d-flex\">\n                      <p className=\" \">Total credits you own:</p>\n                      <strong className=\"ps-2 \">{Credits} $</strong>\n                    </div>\n                    <CCol className=\"order-detail-tag  \" xs={6}>\n                      <CForm onSubmit={submitHandler}>\n                        <div className=\"col-8\">\n                          <CFormLabel htmlFor=\"exampleFormControlInput1\">Enter Credits</CFormLabel>\n                          <CFormInput\n                            type=\"number\"\n                            value={credits}\n                            id=\"exampleFormControlInput1\"\n                            placeholder=\"Enter Amount\"\n                            onChange={(e) => setCredits(e.target.value)}\n                          />\n                        </div>\n\n                        <div className=\"mt-2 col-8 text-end\">\n                          <CButton\n                            type=\"submit\"\n                            color=\"secondary\"\n                            variant=\"outline\"\n                            className=\"text-end\"\n                          >\n                            Buy\n                          </CButton>\n                        </div>\n                      </CForm>\n                    </CCol>\n                  </CRow>\n                </CContainer>\n              </CCardBody>\n            </CCard>\n          </CCol>\n        </CRow>\n      </CContainer>\n      <ToastContainer />\n    </>\n  )\n}\n\nexport default BuyCredits\n"],"names":["setHeader","token","store","user","headers","Authorization","addStripe","obj","request","apiUrl","addCredits","getCredits","id","addStripeAction","callback","dispatch","res","status","toastify","data","message","response","err","buyCreditsAction","getUserCreditsAction","type","payload","credits","userCredits","state","useDispatch","useState","setCredits","userDetail","useSelector","Credits","useEffect","_id","className","xs","onSubmit","e","preventDefault","userId","htmlFor","value","placeholder","onChange","target","color","variant"],"sourceRoot":""}